(function(){"use strict";var e={7393:function(e,t,l){var i=l(9242),s=l(3396),n=l(4870),o=l(7139);l(7658);const r=[{type:"text",code:"number",alias:"1",title:"Номер:"},{type:"date",code:"date",alias:"1",title:"Дата:",required:"true"},{type:"date",code:"date_exec",alias:"1",title:"Дата проводки:"},{type:"text",code:"account1",alias:"1",title:"Счет отправителя:",required:"true",suggestions:"true"},{type:"text",code:"corr1_n",alias:"1",title:"Наименование отправителя:"},{type:"text",code:"corr2_n",alias:"2",title:"Корреспондент:"},{type:"text",code:"inc_n",alias:"2",title:"Наим. дохода:"},{type:"grid",code:"",alias:"2",title:""}],a=["№","Сумма","Счет получателя","Дт","Кт"],u=e=>{const t={margin:null,rows:[]};t.margin=e.querySelector("Layout").attributes.firstmargin.value;const l=e.querySelectorAll("row");for(const s of l)if(s.attributes.type&&"row"===s.attributes.type.value){const e=[],l=s.querySelectorAll("el");for(const t of l){const l={},[...i]=t.attributes;for(const e of i){if("field"===e.name){const[t,i]=e.value.split(".");l.alias=t,l.field=i}else l[e.name]=e.value;l.type=r.find((e=>e.code===l.field))?.type,l.labelText=r.find((e=>e.code===l.field))?.title,l.required=r.find((e=>e.code===l.field))?.required,l.suggestions=r.find((e=>e.code===l.field))?.suggestions}e.push(l)}t.rows.push(e)}else{const e={},[...l]=s.attributes;for(const t of l){if("field"===t.name){const[l,i]=t.value.split(".");e.alias=l,e.field=i}else e[t.name]=t.value;e.type||(e.type=r.find((t=>t.code===e.field))?.type),e.labelText=r.find((t=>t.code===e.field))?.title,e.required=r.find((t=>t.code===e.field))?.required,e.suggestions=r.find((t=>t.code===e.field))?.suggestions}t.rows.push([e])}t.grid=a;const i=[];for(const s of Array(10).keys()){const e=Math.floor(1e8*Math.random()),t=String(Math.floor(1e4*Math.random()));i.push({[e]:t})}return t.suggestionsList=i,t};var c=u;const d={class:"task-1"},g={class:"labels"},f={class:"rows"},p=["for"],w=["title","type","name"],v={class:"grid"};var y={__name:"TaskOne",setup(e){const t=new XMLHttpRequest;t.open("get","data.xml",!1),t.send();const l=c(t.responseXML);return(e,t)=>((0,s.wg)(),(0,s.iD)("div",d,[(0,s._)("div",{class:"table",style:(0,o.j5)({columnGap:(0,n.SU)(l).margin})},[(0,s._)("div",g,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,n.SU)(l).rows.slice(0,(0,n.SU)(l).rows.length-1).map((e=>e[0].labelText)),(e=>((0,s.wg)(),(0,s.iD)("label",{key:e},(0,o.zw)(e),1)))),128))]),(0,s._)("div",f,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,n.SU)(l).rows.slice(0,(0,n.SU)(l).rows.length-1),(e=>((0,s.wg)(),(0,s.iD)("div",{class:"row",key:e},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e,((e,t)=>((0,s.wg)(),(0,s.iD)("div",{key:e,class:(0,o.C_)(["cell",{"cell--extendright":e["extendtoright"],"cell--moveright":e["movetoright"],"cell--label-left":"left"===e.label,"cell--label-top":"top"===e.label}])},[0!==t&&e.label?((0,s.wg)(),(0,s.iD)("label",{key:0,for:e.code},(0,o.zw)(e.labelText),9,p)):(0,s.kq)("",!0),(0,s._)("input",{title:e.label?null:e.labelText,type:e.type,name:e.code,maxlength:"80"},null,8,w)],2)))),128))])))),128))])],4),(0,s._)("div",v,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,n.SU)(l).grid,(e=>((0,s.wg)(),(0,s.iD)("div",{class:"head-cell",key:e},(0,o.zw)(e),1)))),128)),((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(5,(e=>(0,s._)("div",{class:"grid-cell",key:e},(0,o.zw)(e),1))),64))])]))}},b=l(89);const h=(0,b.Z)(y,[["__scopeId","data-v-359582fd"]]);var m=h;const _={class:"task-2"},k={class:"labels"},x={class:"rows"},D=["for"],q=["title","required","type","name","list","onUpdate:modelValue"],S={class:"grid"},U={id:"suggestions"},O=["value"];var H={__name:"TaskTwo",setup(e){const t=e=>{e.target.attributes.list&&a.suggestionsList.map((e=>Object.keys(e)[0])).includes(e.target.value)&&(l["1"].corr1_n=a.suggestionsList.find((t=>t[e.target.value]))[e.target.value])},l=(0,n.qj)({1:{},2:{}}),r=new XMLHttpRequest;r.open("get","data.xml",!1),r.send();const a=c(r.responseXML);return(e,r)=>((0,s.wg)(),(0,s.iD)("form",_,[(0,s._)("div",{class:"table",style:(0,o.j5)({columnGap:(0,n.SU)(a).margin})},[(0,s._)("div",k,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,n.SU)(a).rows.slice(0,(0,n.SU)(a).rows.length-1).map((e=>e[0])),(e=>((0,s.wg)(),(0,s.iD)("label",{class:(0,o.C_)({"label--required":e["required"]}),key:e},(0,o.zw)(e.labelText),3)))),128))]),(0,s._)("div",x,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,n.SU)(a).rows.slice(0,(0,n.SU)(a).rows.length-1),(e=>((0,s.wg)(),(0,s.iD)("div",{class:"row",key:e},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e,((e,n)=>((0,s.wg)(),(0,s.iD)("div",{key:e,class:(0,o.C_)(["cell",{"cell--extendright":e["extendtoright"],"cell--moveright":e["movetoright"],"cell--label-left":"left"===e.label,"cell--label-top":"top"===e.label}])},[0!==n&&e.label?((0,s.wg)(),(0,s.iD)("label",{key:0,for:e.code,class:(0,o.C_)({"label--required":e["required"]})},(0,o.zw)(e.labelText),11,D)):(0,s.kq)("",!0),(0,s.wy)((0,s._)("input",{title:e.label?null:e.labelText,required:e.required,type:e.type,name:e.code,list:e.suggestions?"suggestions":null,maxlength:"80",onChange:t,"onUpdate:modelValue":t=>l[e.alias][e.field]=t},null,40,q),[[i.YZ,l[e.alias][e.field]]])],2)))),128))])))),128))])],4),(0,s._)("div",S,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,n.SU)(a).grid,(e=>((0,s.wg)(),(0,s.iD)("div",{class:"head-cell",key:e},(0,o.zw)(e),1)))),128)),((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(5,(e=>(0,s._)("div",{class:"grid-cell",key:e},(0,o.zw)(e),1))),64))]),(0,s._)("datalist",U,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,n.SU)(a).suggestionsList,(e=>((0,s.wg)(),(0,s.iD)("option",{value:Object.keys(e)[0],key:e},(0,o.zw)(Object.values(e)[0]),9,O)))),128))]),(0,s._)("pre",null,(0,o.zw)(l),1),(0,s.Uk)(" "+(0,o.zw)(),1)]))}};const T=(0,b.Z)(H,[["__scopeId","data-v-3363672e"]]);var j=T;const Y={class:"tables"},z=(0,s._)("a",{href:"https://github.com/mayflaua/ks",class:"link"},"Source code",-1),K=(0,s._)("h2",null,"Задача 1",-1),L=(0,s._)("h4",null,"Форма строится динамически по данным из XML",-1),M=(0,s._)("h2",null,"Задача 2",-1),C=(0,s._)("h4",null,"Форма привязана к объекту, структура на основе данных из XML",-1);var X={__name:"App",setup(e){return(e,t)=>((0,s.wg)(),(0,s.iD)("div",Y,[z,K,L,(0,s.Wm)((0,n.SU)(m)),M,C,(0,s.Wm)((0,n.SU)(j))]))}};const A=X;var Z=A;(0,i.ri)(Z).mount("#app")}},t={};function l(i){var s=t[i];if(void 0!==s)return s.exports;var n=t[i]={exports:{}};return e[i](n,n.exports,l),n.exports}l.m=e,function(){var e=[];l.O=function(t,i,s,n){if(!i){var o=1/0;for(c=0;c<e.length;c++){i=e[c][0],s=e[c][1],n=e[c][2];for(var r=!0,a=0;a<i.length;a++)(!1&n||o>=n)&&Object.keys(l.O).every((function(e){return l.O[e](i[a])}))?i.splice(a--,1):(r=!1,n<o&&(o=n));if(r){e.splice(c--,1);var u=s();void 0!==u&&(t=u)}}return t}n=n||0;for(var c=e.length;c>0&&e[c-1][2]>n;c--)e[c]=e[c-1];e[c]=[i,s,n]}}(),function(){l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,{a:t}),t}}(),function(){l.d=function(e,t){for(var i in t)l.o(t,i)&&!l.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){l.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};l.O.j=function(t){return 0===e[t]};var t=function(t,i){var s,n,o=i[0],r=i[1],a=i[2],u=0;if(o.some((function(t){return 0!==e[t]}))){for(s in r)l.o(r,s)&&(l.m[s]=r[s]);if(a)var c=a(l)}for(t&&t(i);u<o.length;u++)n=o[u],l.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return l.O(c)},i=self["webpackChunkkeysystems"]=self["webpackChunkkeysystems"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=l.O(void 0,[998],(function(){return l(7393)}));i=l.O(i)})();
//# sourceMappingURL=app.b0039b4a.js.map